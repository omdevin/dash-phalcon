<!DOCTYPE html>  <html lang="en">   <head>          <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />          <title>Class Phalcon\DI &mdash; Phalcon 1.2.6 documentation</title>     <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />     <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500,700,300italic,400italic,500italic&amp;subset=latin,cyrillic-ext' rel='stylesheet' type='text/css'>     <link rel="stylesheet" href="../_static/style.css" type="text/css" />     <link rel="stylesheet" href="../_static/docs.css" type="text/css" />     <script type="text/javascript">       var DOCUMENTATION_OPTIONS = {         URL_ROOT:    '../',         VERSION:     '1.2.6',         COLLAPSE_MODINDEX: false,         FILE_SUFFIX: '.html',         HAS_SOURCE:  true       };     </script>      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>     <script type="text/javascript" src="../_static/docs.js"></script>     <link rel="shortcut icon" href="../_static/favicon.ico"/>     <link rel="top" title="Phalcon 1.2.6 documentation" href="../index.html" />     <link rel="up" title="API Indice" href="index.html" />     <link rel="next" title="Class Phalcon\DI\Exception" href="Phalcon_DI_Exception.html" />     <link rel="prev" title="Class Phalcon\Crypt\Exception" href="Phalcon_Crypt_Exception.html" />   <!-- RTD Extra Head -->    <!-- <link rel="canonical" href="http://phalcon-php-framework-documentation.readthedocs.org/en/latest/api/Phalcon_DI.html"> -->  <script type="text/javascript">   // This is included here because other places don't have access to the pagename variable.   var READTHEDOCS_DATA = {     project: "phalcon-php-framework-documentation",     version: "latest",     language: "en",     page: "api/Phalcon_DI",     theme: "phalcon",     docroot: "/en/",     api_host: "http://readthedocs.org"   }   // Old variables   var doc_version = "latest";   var doc_slug = "phalcon-php-framework-documentation";   var page_name = "api/Phalcon_DI";   var html_theme = "phalcon"; </script> <!-- RTD Analytics Code --> <!-- Included in the header because you don't have a footer block. --> <script type="text/javascript">   var _gaq = _gaq || [];   _gaq.push(['_setAccount', 'UA-17997319-1']);   _gaq.push(['_trackPageview']);    (function() {     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);   })(); </script> <!-- end RTD Analytics Code -->   <!-- User Analytics Code --> <script type="text/javascript">   var _gaq = _gaq || [];   _gaq.push(['_setAccount', 'UA-29332509-1']);   _gaq.push(['_trackPageview']);    (function() {     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);   })(); </script> <!-- End User Analytics Code -->  <!-- end RTD <extrahead> -->    </head>   <body>     <div id="wrapper">          <div class="size-wrap">
			<div class="header clear-fix">
				<a class="header-logo" href="http://phalconphp.com"><span class="logo-text">Phalcon</span></a>
			</div>
</div>                    <table width="90%" align="center">         <tr>                  <td class="second-box" valign="top">             <div class="document">                 <div class="documentwrapper">                   <div class="bodywrapper">                     <div class="body" >                          <div class="section" id="class-phalcon-di"> <h1>Class <a name="//apple_ref/cpp/Class/Phalcon\DI" class="dashAnchor">Phalcon\DI</a><a class="headerlink" href="#class-phalcon-di" title="Permalink to this headline">¶</a></h1> <p><em>implements</em> <a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a></p> <p>Phalcon\DI is a component that implements Dependency Injection/Service Location of services and it&#8217;s itself a container for them.  Since Phalcon is highly decoupled, Phalcon\DI is essential to integrate the different components of the framework. The developer can also use this component to inject dependencies and manage global instances of the different classes used in the application.  Basically, this component implements the <cite>Inversion of Control</cite> pattern. Applying this, the objects do not receive their dependencies using setters or constructors, but requesting a service dependency injector. This reduces the overall complexity, since there is only one way to get the required dependencies within a component.  Additionally, this pattern increases testability in the code, thus making it less prone to errors.</p> <div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>   <span class="nv">$di</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phalcon\DI</span><span class="p">();</span>   <span class="c1">//Using a string definition</span>  <span class="nv">$di</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;request&#39;</span><span class="p">,</span> <span class="s1">&#39;Phalcon\Http\Request&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>   <span class="c1">//Using an anonymous function</span>  <span class="nv">$di</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;request&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(){</span>   <span class="k">return</span> <span class="k">new</span> <span class="nx">Phalcon\Http\Request</span><span class="p">();</span>  <span class="p">},</span> <span class="k">true</span><span class="p">);</span>   <span class="nv">$request</span> <span class="o">=</span> <span class="nv">$di</span><span class="o">-&gt;</span><span class="na">getRequest</span><span class="p">();</span> </pre></div> </div> <div class="section" id="methods"> <h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2> <p>public  <a name="//apple_ref/cpp/Method/__construct" class="dashAnchor">__construct</a> ()</p> <p>Phalcon\DI constructor</p> <p>public <a class="reference internal" href="Phalcon_DI_ServiceInterface.html"><em>Phalcon\DI\ServiceInterface</em></a>  <a name="//apple_ref/cpp/Method/set" class="dashAnchor">set</a> (<em>string</em> $name, <em>mixed</em> $definition, [<em>boolean</em> $shared])</p> <p>Registers a service in the services container</p> <p>public <a class="reference internal" href="Phalcon_DI_ServiceInterface.html"><em>Phalcon\DI\ServiceInterface</em></a>  <a name="//apple_ref/cpp/Method/setShared" class="dashAnchor">setShared</a> (<em>string</em> $name, <em>mixed</em> $definition)</p> <p>Registers an &#8220;always shared&#8221; service in the services container</p> <p>public  <a name="//apple_ref/cpp/Method/remove" class="dashAnchor">remove</a> (<em>string</em> $name)</p> <p>Removes a service in the services container</p> <p>public <a class="reference internal" href="Phalcon_DI_ServiceInterface.html"><em>Phalcon\DI\ServiceInterface</em></a>  <a name="//apple_ref/cpp/Method/attempt" class="dashAnchor">attempt</a> (<em>string</em> $name, <em>mixed</em> $definition, [<em>boolean</em> $shared])</p> <p>Attempts to register a service in the services container Only is successful if a service hasn&#8217;t been registered previously with the same name</p> <p>public <a class="reference internal" href="Phalcon_DI_ServiceInterface.html"><em>Phalcon\DI\ServiceInterface</em></a>  <a name="//apple_ref/cpp/Method/setRaw" class="dashAnchor">setRaw</a> (<em>string</em> $name, <a class="reference internal" href="Phalcon_DI_ServiceInterface.html"><em>Phalcon\DI\ServiceInterface</em></a> $rawDefinition)</p> <p>Sets a service using a raw Phalcon\DI\Service definition</p> <p>public <em>mixed</em>  <a name="//apple_ref/cpp/Method/getRaw" class="dashAnchor">getRaw</a> (<em>string</em> $name)</p> <p>Returns a service definition without resolving</p> <p>public <a class="reference internal" href="Phalcon_DI_ServiceInterface.html"><em>Phalcon\DI\ServiceInterface</em></a>  <a name="//apple_ref/cpp/Method/getService" class="dashAnchor">getService</a> (<em>string</em> $name)</p> <p>Returns a Phalcon\DI\Service instance</p> <p>public <em>mixed</em>  <a name="//apple_ref/cpp/Method/get" class="dashAnchor">get</a> (<em>string</em> $name, [<em>array</em> $parameters])</p> <p>Resolves the service based on its configuration</p> <p>public <em>mixed</em>  <a name="//apple_ref/cpp/Method/getShared" class="dashAnchor">getShared</a> (<em>string</em> $name, [<em>array</em> $parameters])</p> <p>Resolves a service, the resolved service is stored in the DI, subsequent requests for this service will return the same instance</p> <p>public <em>boolean</em>  <a name="//apple_ref/cpp/Method/has" class="dashAnchor">has</a> (<em>string</em> $name)</p> <p>Check whether the DI contains a service by a name</p> <p>public <em>boolean</em>  <a name="//apple_ref/cpp/Method/wasFreshInstance" class="dashAnchor">wasFreshInstance</a> ()</p> <p>Check whether the last service obtained via getShared produced a fresh instance or an existing one</p> <p>public <a class="reference internal" href="Phalcon_DI_Service.html"><em>Phalcon\DI\Service</em></a> [] <a name="//apple_ref/cpp/Method/getServices" class="dashAnchor">getServices</a> ()</p> <p>Return the services registered in the DI</p> <p>public <em>boolean</em>  <a name="//apple_ref/cpp/Method/offsetExists" class="dashAnchor">offsetExists</a> (<em>string</em> $name)</p> <p>Check if a service is registered using the array syntax. Alias for Phalcon\Di::has()</p> <p>public  <a name="//apple_ref/cpp/Method/offsetSet" class="dashAnchor">offsetSet</a> (<em>string</em> $name, <em>mixed</em> $definition)</p> <p>Allows to register a shared service using the array syntax. Alias for Phalcon\Di::setShared()</p> <div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>  <span class="nv">$di</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phalcon\Http\Request</span><span class="p">();</span> </pre></div> </div> <p>public <em>mixed</em>  <a name="//apple_ref/cpp/Method/offsetGet" class="dashAnchor">offsetGet</a> (<em>string</em> $name, [<em>unknown</em> $parameters])</p> <p>Allows to obtain a shared service using the array syntax. Alias for Phalcon\Di::getShared()</p> <div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>  <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$di</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]);</span> </pre></div> </div> <p>public  <a name="//apple_ref/cpp/Method/offsetUnset" class="dashAnchor">offsetUnset</a> (<em>string</em> $name)</p> <p>Removes a service from the services container using the array syntax. Alias for Phalcon\Di::remove()</p> <p>public <em>mixed</em>  <a name="//apple_ref/cpp/Method/__call" class="dashAnchor">__call</a> (<em>string</em> $method, [<em>array</em> $arguments])</p> <p>Magic method to get or set services using setters/getters</p> <p>public static  <a name="//apple_ref/cpp/Method/setDefault" class="dashAnchor">setDefault</a> (<a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector)</p> <p>Set a default dependency injection container to be obtained into static methods</p> <p>public static <a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a>  <a name="//apple_ref/cpp/Method/getDefault" class="dashAnchor">getDefault</a> ()</p> <p>Return the lastest DI created</p> <p>public static  <a name="//apple_ref/cpp/Method/reset" class="dashAnchor">reset</a> ()</p> <p>Resets the internal default DI</p> </div> </div>                       </div>                   </div>                 </div>             </div>           </td>         </tr>       </table>     <div class="related">       <ul>         <li class="right" >           <a href="../genindex.html" title="General Index"              >index</a></li>         <li class="right" >           <a href="Phalcon_DI_Exception.html" title="Class Phalcon\DI\Exception"              >next</a> |</li>         <li class="right" >           <a href="Phalcon_Crypt_Exception.html" title="Class Phalcon\Crypt\Exception"              >previous</a> |</li>           <li class="right"><a href="index.html" >API Indice</a> &raquo;</li>        </ul>     </div>         <div id="footer">            <p>Found a typo or an error? Want to improve this document? The documentation sources are available on <a href="http://github.com/phalcon/docs">Github</a></p>           <p>Need support or have questions? Check our <a href="http://phalconphp.com/support">Support Page</a></p>            <p>The Phalcon PHP Framework is released under the <a href="https://github.com/phalcon/cphalcon/blob/master/docs/LICENSE.md">new BSD license</a>.</p>           <p>Except where otherwise noted, content on this site is licensed under the             <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License.</a></p>              Last updated on Jan 30, 2014.             Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.            <p>              &copy; Copyright 2014, Phalcon Team.           </p>              <div class="size-wrap footer-wrap">                  <div class="donate-wrap">                     Donate to Phalcon: <a href="http://flattr.com/thing/1134206/Phalcon-PHP-Framework" target="_blank" class="button button-small orange">Flattr</a>                     or                     <form action="https://www.paypal.com/cgi-bin/webscr" method="post" style="display: inline">                         <input type="hidden" name="cmd" value="_s-xclick">                         <input type="hidden" name="hosted_button_id" value="7LSYMNMFZNG8W">                         <input class="button button-small orange" style="border: inherit; display: inline; font-weight: bold" type="submit" value="via Paypal" title="PayPal — The safer, easier way to pay online.">                     </form>                 </div>                  <div class="social-links">                     <a href="https://twitter.com/phalconphp" class="social-link tw">Twitter</a>                     <a href="http://www.facebook.com/pages/Phalcon/134230726685897" class="social-link fb">Facebook</a>                     <a href="https://plus.google.com/102376109340560896457" class="social-link gp">Google Plus</a>                     <a href="http://vimeo.com/user10964377" class="social-link vm">Vimeo</a>                 </div>              </div>          </div>      </div>     <script type="text/javascript">     $(window).on("load", function(){       var cx = '009733439235723428699:lh9ltjgvdz8';       var gcse = document.createElement('script');       gcse.type = 'text/javascript';       gcse.async = true;       gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;       var s = document.getElementsByTagName('script')[0];       s.parentNode.insertBefore(gcse, s);       /*window.setTimeout(function(){         $('.gsc-search-button').css({           'background': '#f06715',           'padding': '2px',           'border': '0'         });       }, 1000)*/     });     </script>    </body> </html>